<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>
<script>
    function div(a, b) {
        return new Promise(function (resolve, reject) {
            a = parseInt(a)
            b = parseInt(b)

            if(String(num1) != a || String(num2) != b){  // 判斷使用者輸入的是否為數字
                reject('請輸入數字')
            }
            if (b == 0) {
                reject('分母不可為零')
            } else {
                resolve(a / b)
            }
        })
    }

    window.onload = function () {
        bndiv.onclick = function () {
            // let n1 = parseInt(num1.value)  // input抓到的一律是字串，將使用者輸入的東西轉成整數型態
            // let n2 = parseInt(num2.value)
            div(num1.value, num2.value)
                .then(function (ans) {
                    row_data.innerHTML = ans
                    return Math.round(ans * 100) / 100 // 四捨五入
                })
                .then(function (ans) {      // 多個then，多層處理
                    result.innerHTML = ans
                })
                .catch(function (reason) {  // catch只能有一個
                    result.innerHTML = reason
                })
                .finally(function(){    // finally只能有一個，可寫可不寫

                })
                // 以上全部可以寫成一行，概念像java的try...catch

        }
    }
</script>
<body>
    Number 1: <input id="num1">
    <p></p>
    Number 2: <input id="num2">
    <p></p>
    <button id="bndiv">div</button>
    <p></p>
    <label id="row_data">0</label><p></p>
    <label id="result">0</label>
    <br><br>
    <hr>
    <br><br><br><br>
    
</body>
</html>